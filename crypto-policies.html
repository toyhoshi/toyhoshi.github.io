<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Crypto policies in RHEL 8.2 - www.clouday.dev</title><meta name="description" content="Across enterprise IT the security landscape is changing and attackers are coming up with more sophisticated attacks. The cryptographic algorithms&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.clouday.dev/crypto-policies.html"><link rel="alternate" type="application/atom+xml" href="https://www.clouday.dev/feed.xml"><link rel="alternate" type="application/json" href="https://www.clouday.dev/feed.json"><meta property="og:title" content="Crypto policies in RHEL 8.2"><meta property="og:site_name" content="www.clouday.dev "><meta property="og:description" content="Across enterprise IT the security landscape is changing and attackers are coming up with more sophisticated attacks. The cryptographic algorithms&hellip;"><meta property="og:url" content="https://www.clouday.dev/crypto-policies.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://www.clouday.dev/media/website/favicon.ico" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Dosis:400,600&amp;display=swap" rel="stylesheet"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:'Dosis',sans-serif}</style><link rel="stylesheet" href="https://www.clouday.dev/assets/css/fontawesome-all.min.css?v=bbcde81f26378440dac4c3d195714389"><link rel="stylesheet" href="https://www.clouday.dev/assets/css/style.css?v=c5595450718e9b8706c1d0ae208d0265"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.clouday.dev/crypto-policies.html"},"headline":"Crypto policies in RHEL 8.2","datePublished":"2020-12-08T18:30","dateModified":"2021-01-05T12:14","description":"Across enterprise IT the security landscape is changing and attackers are coming up with more sophisticated attacks. The cryptographic algorithms&hellip;","author":{"@type":"Person","name":"Toyhoshi"},"publisher":{"@type":"Organization","name":"Toyhoshi"}}</script></head><body class="is-preload"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo" href="https://www.clouday.dev/"><strong>www.clouday.dev</strong></a><ul class="icons"><li><a href="@toyhoshi" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li><li><a href="linkedin\toyhoshi" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li></ul></header><article class="post"><header class="main post__header"><time datetime="2020-12-08T18:30" class="post__date">December 8, 2020</time><h1>Crypto policies in RHEL 8.2</h1></header><div class="post__inner post__entry"><p>Across enterprise IT the security landscape is changing and attackers are coming up with more sophisticated attacks. The cryptographic algorithms that might be robust and reliable today, may not necessarily be so tomorrow.</p><p style="font-weight: 400;">In RHEL 8.2 to enable users to specify their own crypto policies if the built-in policies do not meet their requirements.</p><p style="font-weight: 400;">As a refresher, system-wide crypto policies introduced in RHEL 8 are:</p><ol style="font-weight: 400;"><li style="font-weight: var(--pfe-theme--font-weight--default,400);">Centrally managed on the system using a simple command to show the currently set system-wide crypto policy and update the system-wide crypto policy.$ update-crypto-policies --show DEFAULT<strong>Update the system-wide crypto policy to set the level to future</strong>$ update-crypto-policies --set FUTURE Setting system policy to FUTURE</li><li style="font-weight: var(--pfe-theme--font-weight--default,400);"><strong>Show the system-wide crypto policy currently in effect </strong></li><li style="font-weight: var(--pfe-theme--font-weight--default,400);">Effective across applications built using core cryptographic subsystems. For example, if your application leverages OpenSSL, or GnuTLS, these applications will be able to benefit from the RHEL crypto policies. </li><li style="font-weight: var(--pfe-theme--font-weight--default,400);">Configurable to a particular predefined policy level. In RHEL 8, four policies are provided under the names "LEGACY", "DEFAULT", "FUTURE" and "FIPS". Detailed settings about each policy are <a href="https://access.redhat.com/articles/3642912">summarized in this post about strong crypto defaults in RHEL 8</a> and update-crypto-policies man pages.</li></ol><h3 dir="ltr">Modifying an existing crypto policy</h3><p dir="ltr">To modify existing crypto policies, use policy modifier modules. These are text files that include policy instructions to the <code>update-crypto-policies</code> tool. </p><p dir="ltr">The naming of these files must follow the following convention: <strong>&lt;MODULE&gt;.pmod</strong>, where <strong>&lt;MODULE&gt;</strong> is the name of the modifier in uppercase without spaces, and .pmod is the file extension in lowercase. </p><p>The location of these files should be:</p><p><code>/etc/crypto-policies/policies/modules</code> folder <span style="color: var(--text-editor-body-color); font-family: var(--font-base); font-size: inherit; font-weight: var(--font-weight-normal);">(or the </span><code style="font-weight: var(--font-weight-normal);">/usr/share/crypto-policies/policies/modules</code><span style="color: var(--text-editor-body-color); font-family: var(--font-base); font-size: inherit; font-weight: var(--font-weight-normal);"> folder if they are in installed packages).</span></p><p> </p><h3>SSL_ERROR_UNSUPPORTED_HASH_ALGORITHM</h3><p>Try to revert back to legacy policy: <strong><span style="color: var(--text-editor-body-color); font-family: var(--font-base); font-size: inherit;">sudo update-crypto-policies --set LEGACY</span></strong></p><p>To get <span style="color: var(--text-editor-body-color); font-family: var(--font-base); font-size: inherit; font-weight: var(--font-weight-normal);">the old policy, use: <strong>sudo update-crypto-policies --set DEFAULT:FEDORA32</strong><br>To get back to current policy: <strong>sudo update-crypto-policies --set DEFAULT</strong></span></p><p> </p><p class="msg msg--success"><em><a href="#INTERNAL_LINK#/post/null" title="https://www.redhat.com/en/blog/how-customize-crypto-policies-rhel-82">https://www.redhat.com/en/blog/how-customize-crypto-policies-rhel-82</a></em></p><p> </p><p> </p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on January 5, 2021</p><div class="post__share"><h3>Share post:</h3></div><div class="post__bio"><img src="https://www.gravatar.com/avatar/f9bb8b993116996cdc108516ef1a5022?s&#x3D;240" loading="lazy" alt="Toyhoshi"><div><h3><a href="https://www.clouday.dev/authors/toyhoshi/" class="invert" rel="author">Toyhoshi</a></h3><p>Toyhoshi is the author behind Clouday.dev He is a devops and system architect. His work across multiple disciplines broadly addresses narratives of human experience.</p></div></div></footer></article></div></div><div id="sidebar"><div class="inner"><div id="search" class="alt"><form action="https://www.clouday.dev/search.html"><input type="text" name="q" placeholder="search..." aria-label="Search"></form></div><nav id="menu"><header class="major"><h2>Menu</h2></header><ul><li><a href="https://www.clouday.dev/hello-kubernetes.html" target="_self">Home</a></li><li class="has-submenu"><span aria-haspopup="true" class="opener">Categories</span><ul class="submenu level-2" aria-hidden="true"><li><a href="https://www.clouday.dev/iac/" title="Infrastructure as code" target="_self">IaC</a></li><li><a href="https://www.clouday.dev/ecs/" title="Elastic Container Service" target="_self">ECS</a></li></ul></li></ul></nav><footer id="footer">https://www.clouday.dev/<p><a class="twitter-timeline" data-dnt="true" data-chrome="transparent,nofooter" data-link-color="#ffcc00" data-tweet-limit="1" href="https:/twitter.com/learnk8s">Kubernetes Journey</a></p><p> </p><p><script async="" src="https:/platform.twitter.com/widgets.js" charset="utf-8"></script></p><p><img src="https:/www.clouday.dev/media/website/LogoCloudNotes4.png" alt="www.clouday.dev"></p></footer></div></div></div><script src="https://www.clouday.dev/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://www.clouday.dev/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://www.clouday.dev/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://www.clouday.dev/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://www.clouday.dev/assets/js/main.min.js?v=448f4c9d4b4c374766a1cb76c3d88048"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>